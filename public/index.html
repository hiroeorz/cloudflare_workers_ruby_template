<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hibana Static Assets</title>
    <link rel="stylesheet" href="/assets/app.css" />
  </head>
  <body>
    <header>
      <img src="/assets/logo.svg" alt="Hibana Logo" />
      <span class="brand">Hibana</span>
    </header>
    <main>
      <section class="hero">
        <p class="eyebrow">Cloudflare Workers × Ruby</p>
        <h1>
          <span class="accent hibana">Hibana</span> ignites your
          <span class="accent ruby">Ruby</span> apps at the edge
        </h1>
        <p class="description">
          Hibana は Cloudflare Workers 上で Ruby を快適に動かすための CLI & ランタイムです。
          Hono / Sinatra スタイルの DSL・Cloudflare 向けクライアント・テンプレート/静的アセット機構を備え、
          ローカルで <code class="inline">npm create hibana@latest</code> を実行するだけで即座に開発を始められます。
        </p>
        <div class="actions">
          <a class="button primary" href="/">See sample route</a>
          <a class="button ghost" href="https://github.com/hiroeorz/cloudflare_workers_ruby_template" target="_blank" rel="noreferrer">View source</a>
        </div>
      </section>

      <section class="feature-stack">
        <article class="feature">
          <div class="feature-text">
            <h3>Ruby-friendly DSL</h3>
            <p>Hono / Sinatra に似た DSL でルーティングを記述。<code class="inline">c.text</code>、<code class="inline">c.json</code>、<code class="inline">c.render</code> など直感的な API を提供します。</p>
          </div>
          <pre class="snippet"><code><span class="kw">get</span> <span class="str">"/"</span> <span class="do">do</span> |c|
  c.text(<span class="str">"Hello Hibana!"</span>)
<span class="kw">end</span></code></pre>
        </article>
        <article class="feature">
          <div class="feature-text">
            <h3>Cloudflare bindings</h3>
            <p>Workers KV / D1 / R2 / Workers AI を Ruby から呼び出せるクライアントを標準でバンドルしています。</p>
          </div>
          <pre class="snippet"><code><span class="kw">get</span> <span class="str">"/d1"</span> <span class="do">do</span> |c|
  db = c.env(:DB)
  result = db.prepare(<span class="str">"SELECT * FROM posts"</span>)
              .bind
              .first
  c.json(result)
<span class="kw">end</span></code></pre>
        </article>
        <article class="feature">
          <div class="feature-text">
            <h3>Workers AI ready</h3>
            <p>Workers AI バインディングを Ruby から直接呼び出せます。プロンプトや payload を Ruby のハッシュで表現し、そのままモデルへ渡せます。</p>
          </div>
          <pre class="snippet"><code><span class="kw">get</span> <span class="str">"/ai-demo"</span> <span class="do">do</span> |c|
  ai = c.env(:AI)
  result = ai.run(
    model: <span class="str">"@cf/meta/llama-3.1-8b"</span>,
    payload: { prompt: <span class="str">"Hello from Hibana"</span> },
  )
  c.json(result)
<span class="kw">end</span></code></pre>
        </article>
        <article class="feature">
          <div class="feature-text">
            <h3>Seamless asset pipeline</h3>
            <p>ERB テンプレートと静的ファイルを manifest 化し、Workers へそのまま配信。<code class="inline">npm run build:generated</code> だけで完結します。</p>
          </div>
          <pre class="snippet"><code>&lt;h1&gt;My name is <span class="erb">&lt;%= name %&gt;</span>&lt;/h1&gt;
&lt;p&gt;Nickname is <span class="erb">&lt;%= nickname %&gt;</span>&lt;/p&gt;</code></pre>
        </article>
      </section>
    </main>
    <footer>
      <small>Built with Hibana · Cloudflare Workers + Ruby runtime</small>
    </footer>
  </body>
</html>
